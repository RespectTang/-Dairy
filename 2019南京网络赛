B 求a的b幂塔
hint:扩展欧拉定理降幂
#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
const int M=1e6+6;
ll ph[M];
ll getPhi(){
    ph[0]=0,ph[1]=1;
    for(int i=2;i<M;i++)
        ph[i]=i;
    for(int i=2;i<M;i++){
        if(ph[i]==i){
            for(int j=i;j<M;j+=i)
                ph[j]=ph[j]/i*(i-1);
        }
    }
}
ll quick(ll a,ll b,ll mod){
    ll t=1ll;
    while(b){
        if(b&1)
            t=(t*a)%mod;
        b>>=1;
        a=(a*a)%mod;
    }
    return t;
}
ll sol(ll a,ll b,ll p){
    if(b==0)
        return 1;
    if(p==1)
        return 0;
    ll P=sol(a,b-1,ph[p]);
    if(P<ph[p]&&P)
        return quick(a,P,p);
    return quick(a,P+ph[p],p);
}
int main(){
    int t;
    scanf("%d",&t);
    getPhi();
    while(t--){
        ll a,b,mod;
        scanf("%lld%lld%lld",&a,&b,&mod);
        printf("%lld\n",sol(a,b,mod)%mod);
    }
    return 0;
}


D 概率DP
YCG的博客
https://blog.csdn.net/weixin_43751631/article/details/100524096
题意：起点入度为0，终点出度为0的有向无环图，对于每一点，可以选择停留在原地或者往后走一步
往后走的话会有消耗，求起点到终点的期望消耗
消耗根据时间所决定，但是期望消耗不等于期望时间

概率DP经典例题：有n个格子要随机填满m块


